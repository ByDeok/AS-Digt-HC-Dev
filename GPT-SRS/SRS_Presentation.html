<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>디지털 헬스코칭 SRS 발표 자료</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      color-scheme: light dark;
      --bg: #0f172a;
      --bg-alt: #020617;
      --fg: #e5e7eb;
      --accent: #38bdf8;
      --accent-soft: rgba(56, 189, 248, 0.15);
      --muted: #9ca3af;
      --border: #1f2937;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top left, #1e293b, #020617);
      color: var(--fg);
      line-height: 1.6;
    }

    .deck {
      max-width: 1120px;
      margin: 0 auto;
      padding: 32px 16px 80px;
    }

    .slide {
      background: linear-gradient(135deg, rgba(15, 23, 42, 0.98), rgba(15, 23, 42, 0.92));
      border-radius: 24px;
      padding: 32px 32px 28px;
      margin-bottom: 28px;
      border: 1px solid var(--border);
      box-shadow:
        0 22px 60px rgba(15, 23, 42, 0.65),
        0 0 0 1px rgba(148, 163, 184, 0.25);
      backdrop-filter: blur(16px);
    }

    .slide-header {
      display: flex;
      align-items: baseline;
      gap: 8px;
      margin-bottom: 18px;
    }

    .slide-index {
      font-size: 14px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--muted);
    }

    h1, h2, h3 {
      margin: 0;
      font-weight: 650;
      letter-spacing: -0.03em;
    }

    h1 {
      font-size: clamp(32px, 4vw, 40px);
      margin-bottom: 12px;
    }

    h2 {
      font-size: clamp(22px, 3vw, 28px);
    }

    h3 {
      font-size: 18px;
      margin-top: 18px;
      margin-bottom: 6px;
    }

    p {
      margin: 4px 0 10px;
      color: var(--fg);
      font-size: 15px;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: radial-gradient(circle at top left, rgba(56, 189, 248, 0.12), transparent);
      color: var(--muted);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      margin-bottom: 10px;
    }

    .pill-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: var(--accent);
      box-shadow: 0 0 8px rgba(56, 189, 248, 0.9);
    }

    .tag-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin: 8px 0 4px;
    }

    .tag {
      padding: 4px 8px;
      border-radius: 999px;
      font-size: 11px;
      color: var(--accent);
      background: var(--accent-soft);
      border: 1px solid rgba(56, 189, 248, 0.5);
    }

    ul {
      padding-left: 18px;
      margin: 6px 0 10px;
      font-size: 14px;
    }

    li {
      margin-bottom: 4px;
    }

    strong {
      font-weight: 600;
      color: #e5e7eb;
    }

    .columns {
      display: grid;
      grid-template-columns: minmax(0, 1.15fr) minmax(0, 1fr);
      gap: 20px;
      margin-top: 8px;
    }

    .card {
      border-radius: 16px;
      padding: 12px 14px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(55, 65, 81, 0.9);
      box-shadow: inset 0 0 0 1px rgba(15, 23, 42, 0.9);
      font-size: 13px;
    }

    .card-title {
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 4px;
      color: var(--accent);
    }

    .meta-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 8px;
      font-size: 12px;
      color: var(--muted);
    }

    .meta-row span {
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .meta-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: #4ade80;
    }

    .mermaid-container {
      margin-top: 10px;
      border-radius: 16px;
      background: #020617;
      padding: 12px;
      border: 1px solid rgba(30, 64, 175, 0.9);
      overflow-x: auto;
    }

    .mermaid {
      background: transparent;
    }

    code {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 12px;
      padding: 2px 5px;
      border-radius: 6px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(55, 65, 81, 0.8);
    }

    .footer {
      margin-top: 18px;
      font-size: 11px;
      color: var(--muted);
      display: flex;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
    }

    .kbd {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-width: 18px;
      padding: 1px 6px;
      border-radius: 6px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: rgba(15, 23, 42, 0.9);
      font-size: 10px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    @media (max-width: 768px) {
      .deck {
        padding: 20px 12px 60px;
      }

      .slide {
        padding: 20px 18px 20px;
      }

      .columns {
        grid-template-columns: minmax(0, 1fr);
      }
    }
  </style>
</head>
<body>
  <div class="deck">
    <!-- Slide 1: Title -->
    <section class="slide" id="slide-1">
      <div class="pill">
        <span class="pill-dot"></span>
        SRS-001 · Revision 1.1 · ISO/IEC/IEEE 29148
      </div>
      <h1>디지털 헬스코칭 시스템<br/>Software Requirements Specification</h1>
      <p>액티브 시니어 및 보호자 대상 디지털 헬스코칭 제품의 SRS 주요 내용을 발표용으로 요약한 자료입니다.</p>
      <div class="tag-row">
        <span class="tag">3분 온보딩</span>
        <span class="tag">1장 의사용 요약 리포트</span>
        <span class="tag">오늘 1~3개 행동 코칭</span>
        <span class="tag">가족 보드 &amp; 대리접근</span>
        <span class="tag">Extreme 시니어 A11y</span>
      </div>
      <div class="meta-row">
        <span><span class="meta-dot"></span>문서 ID: SRS-001</span>
        <span>Revision: 1.1 (2025-11-14)</span>
        <span>Standard: ISO/IEC/IEEE 29148:2018</span>
      </div>
      <div class="footer">
        <span>출처: <code>GPT-SRS/GPT-SRS_Final.md</code>, <code>GPT-PRD v0</code></span>
        <span>Tip: 브라우저 <span class="kbd">F11</span>로 전체 화면 모드에서 발표하세요.</span>
      </div>
    </section>

    <!-- Slide 2: 목적 & 범위 -->
    <section class="slide" id="slide-2">
      <div class="slide-header">
        <div class="slide-index">01</div>
        <h2>시스템 목적 &amp; 범위</h2>
      </div>
      <p><strong>목적</strong>: 본 시스템의 기능·비기능·인터페이스·데이터 요구사항을 통합 정의하고, 설계·구현·테스트·운영의 기준선(Baseline)을 제공합니다.</p>
      <div class="columns">
        <div class="card">
          <div class="card-title">In Scope (핵심 가치 흐름)</div>
          <ul>
            <li><strong>3분 온보딩 일괄 플로우</strong>: 가입→인증→권한(대리접근)→디바이스/병원 연동을 하나의 Funnel로 관리</li>
            <li><strong>1장 의사용 요약 리포트</strong>: 최근 6개월 데이터 통합·표준화, EMR 첨부 가능한 의료급 포맷</li>
            <li><strong>오늘 1~3개 행동 코칭</strong>: 실행 가능한 행동 카드, 야간 침묵, D1/W1 행동 KPI 관리</li>
            <li><strong>가족 공유 보드 &amp; 대리접근</strong>: Viewer/Editor/Admin 역할 모델, 감사로그 포함</li>
            <li><strong>최소 1곳 병원/검진 포털 연동</strong> 및 <strong>Extreme 시니어 A11y</strong> 패키지</li>
          </ul>
        </div>
        <div class="card">
          <div class="card-title">Out of Scope (초기 릴리스 제외)</div>
          <ul>
            <li>완전한 <strong>EMR 양방향 연동</strong> (실시간 쓰기/질의 전 범위)</li>
            <li><strong>보험 청구/심사</strong>와 관련된 기능</li>
            <li><strong>의료진 대시보드 정식 출시</strong> (파일럿 이후 별도 릴리스 대상)</li>
          </ul>
          <h3>핵심 제약/가정</h3>
          <ul>
            <li>병원/검진 포털은 <strong>1곳 파일럿 연동</strong> 기준으로 확장</li>
            <li>Extreme 접근성 이슈는 <strong>P1 버그 수준</strong> 관리, 단계적 개선</li>
            <li>“의사 신뢰 포맷” 구현을 위해 <strong>맥락/기기/기간·결측 태깅</strong> 필수</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Slide 3: 이해관계자 & 운영 환경 -->
    <section class="slide" id="slide-3">
      <div class="slide-header">
        <div class="slide-index">02</div>
        <h2>주요 이해관계자 &amp; 운영 환경</h2>
      </div>
      <div class="columns">
        <div class="card">
          <div class="card-title">주요 이해관계자 (Stakeholders)</div>
          <ul>
            <li><strong>Senior 사용자</strong>: 온보딩 완료, 1장 리포트 생성·제시, 일상 행동 수행</li>
            <li><strong>Caregiver(보호자)</strong>: 대리접근 설정, 가족 보드 관리, 일정·복약 조율</li>
            <li><strong>Extreme/Low-Digital Senior</strong>: 대글자·고대비·스크린리더 중심 상호작용</li>
            <li><strong>의사(Clinician)</strong>: 외래 현장 1장 리포트 열람·EMR 첨부, 의사결정 시간 단축</li>
            <li><strong>병원/검진 기관 IT</strong>: 포털/검진 시스템 연동, 보안·규제 준수</li>
            <li><strong>Product/Operations 팀</strong>: KPI 달성, 비용·운영·온콜 관리</li>
          </ul>
        </div>
        <div class="card">
          <div class="card-title">운영 환경 &amp; 규제 (대한민국 기준)</div>
          <ul>
            <li>주 사용 단말: <strong>중저가 안드로이드 + 최신 iOS</strong>, 5~7인치 스마트폰</li>
            <li>네트워크: 실내 Wi-Fi + 불안정 LTE (간헐적 단절·고지연 고려)</li>
            <li>지원 OS: <strong>Android 10+</strong>, <strong>iOS 15+</strong></li>
            <li>규제: 개인정보보호법(PIPA), 의료법, 병원 IT·보안 가이드 준수</li>
            <li>데이터 지역성: 건강 데이터는 <strong>국내 리전 저장</strong> 원칙, 국외 이전 시 별도 동의·계약</li>
            <li>동의/위임/감사로그는 법적 보존 의무 기간 충족 (AuditLog 필수)</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Slide 4: 기술 제약 & 아키텍처 상위뷰 -->
    <section class="slide" id="slide-4">
      <div class="slide-header">
        <div class="slide-index">03</div>
        <h2>기술 제약 &amp; 상위 아키텍처</h2>
      </div>
      <div class="columns">
        <div class="card">
          <div class="card-title">기술 제약 (Design Constraints)</div>
          <ul>
            <li><strong>Frontend (C-TEC-001)</strong>: 웹 기반 SPA, React.js(Vite) 우선</li>
            <li><strong>Backend (C-TEC-002)</strong>: JVM(Java 17 호환), Spring Boot 3.x</li>
            <li><strong>Database (C-TEC-003)</strong>: MySQL 9.x InnoDB, 유니코드 확장 문자 지원</li>
            <li><strong>Doc/LLM 서비스 (C-TEC-004)</strong>: Python + FastAPI, LLM Gateway 연동</li>
            <li><strong>Service 통신 (C-TEC-006)</strong>: REST (OpenAPI 3.x) 또는 gRPC</li>
          </ul>
          <p><strong>※ 세부 선택·변경 이력은 ADR(Architecture Decision Record)에 기록</strong></p>
        </div>
        <div class="card">
          <div class="card-title">시스템 컨텍스트 &amp; 외부 연동</div>
          <ul>
            <li><strong>디바이스 SDK</strong>: 스마트워치·혈압계 등 2종 이상 데이터 연동</li>
            <li><strong>PHR/FHIR 게이트웨이</strong>: 최근 6개월 활동·심박·혈압·체중 표준화 조회</li>
            <li><strong>병원 포털/검진 시스템</strong>: 계정 연동 및 PDF 리포트 첨부</li>
            <li><strong>인증/알림 인프라</strong>: OAuth/OIDC, Push/메시지 채널</li>
            <li><strong>로그·모니터링 시스템</strong>: 지연, 오류, 가용성, 비용, KPI 모니터링 및 알림</li>
          </ul>
          <div class="meta-row">
            <span>Fn 카탈로그: F1~F10 (온보딩, 리포트, 행동, 가족보드, 연동, A11y 등)</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Slide 5: 기능 요구사항 개요 -->
    <section class="slide" id="slide-5">
      <div class="slide-header">
        <div class="slide-index">04</div>
        <h2>기능 요구사항 개요 (Fn &amp; REQ-FUNC)</h2>
      </div>
      <div class="columns">
        <div class="card">
          <div class="card-title">Fn 카탈로그 (주요 기능 묶음)</div>
          <ul>
            <li><strong>F1 온보딩 플로우</strong>: 가입·인증·동의·디바이스/병원 연동</li>
            <li><strong>F2 1장 의사용 요약 리포트</strong>: 6개월 데이터 통합·표준화·PDF</li>
            <li><strong>F3 행동 코칭 엔진</strong>: 오늘 1~3개 행동 카드 생성·KPI 집계</li>
            <li><strong>F4 가족 보드 &amp; 초대</strong>: 역할 기반 권한, 초대/재초대, 동기화</li>
            <li><strong>F5 병원 포털 연동</strong>: 계정 연동 + 파일 업로드 기반 대체 경로</li>
            <li><strong>F6 디바이스 연동/정합성</strong>: 최소 2종 디바이스 데이터 통합</li>
            <li><strong>F7 맥락/기기/기간 태깅</strong>: 지표별 기간·기기·결측 태그</li>
            <li><strong>F8 보안·위험기반 인증</strong>: 대리접근·2FA·감사로그</li>
            <li><strong>F9 알림/오프라인 큐</strong>: 야간 침묵, 큐잉·재시도</li>
            <li><strong>F10 접근성(A11y)</strong>: 대글자/고대비/스크린리더</li>
          </ul>
        </div>
        <div class="card">
          <div class="card-title">주요 REQ-FUNC 하이라이트</div>
          <ul>
            <li><strong>REQ-FUNC-001</strong>: 6개월 헬스 데이터 기반 1장 리포트 생성 (p95 ≤ 3초)</li>
            <li><strong>REQ-FUNC-006</strong>: 사용자당 하루 행동 카드 1~3개, 0개/4개 이상 비율 0%</li>
            <li><strong>REQ-FUNC-008</strong>: 행동 수락/완료 이벤트 기반 D1/W1 행동 KPI 집계</li>
            <li><strong>REQ-FUNC-010~014</strong>: 초대·역할 설정·가족 보드 동기화·재초대</li>
            <li><strong>REQ-FUNC-015~017</strong>: 3분 온보딩 플로우, 중간 저장, A11y 온보딩</li>
            <li><strong>REQ-FUNC-018~019</strong>: 병원 포털 미지원 지역 대체 경로, 멀티디바이스 정합성</li>
          </ul>
          <p><strong>MSCW 우선순위</strong>: Must / Should / Could로 구현 우선순위 관리</p>
        </div>
      </div>
    </section>

    <!-- Slide 6: 비기능 요구사항 & KPI -->
    <section class="slide" id="slide-6">
      <div class="slide-header">
        <div class="slide-index">05</div>
        <h2>비기능 요구사항 &amp; 제품 KPI</h2>
      </div>
      <div class="columns">
        <div class="card">
          <div class="card-title">핵심 NFR (성능·신뢰성·보안)</div>
          <ul>
            <li><strong>성능</strong>
              <ul>
                <li>REQ-NF-001: 앱 초기 로드 p95 ≤ 1.5초</li>
                <li>REQ-NF-002: 온보딩·행동·리포트 화면 전환 p95 ≤ 800ms</li>
                <li>REQ-NF-004: 1장 리포트 생성 p95 ≤ 3초</li>
              </ul>
            </li>
            <li><strong>신뢰성·가용성</strong>
              <ul>
                <li>REQ-NF-014: 월 가용성 ≥ 99.5%</li>
                <li>REQ-NF-015: 백엔드 오류율 &lt; 0.5%</li>
                <li>REQ-NF-010: 오프라인 큐잉 후 데이터 유실 0건</li>
                <li>REQ-NF-035: RPO ≤ 10분, RTO ≤ 30분</li>
              </ul>
            </li>
            <li><strong>보안·규제</strong>
              <ul>
                <li>REQ-NF-016: TLS 1.2+, AES-256 수준 암호화</li>
                <li>REQ-NF-017~018: 위험 기반 2FA, 동의/위임/민감정보 접근 100% 감사로그</li>
                <li>REQ-NF-036~038: 데이터 보존·삭제·지역성, LLM 사용 정책</li>
              </ul>
            </li>
          </ul>
        </div>
        <div class="card">
          <div class="card-title">제품 KPI/Instrumentation</div>
          <ul>
            <li><strong>온보딩</strong>
              <ul>
                <li>REQ-NF-012: p50 완료 시간 ≤ 180초, 성공률 ≥ 65%</li>
                <li>REQ-NF-013: 단계별 이탈률 ≤ 15%</li>
              </ul>
            </li>
            <li><strong>행동 코칭</strong>
              <ul>
                <li>REQ-NF-009, 033: D1/W1 행동 완료율 추적, 장기 목표 D1 ≥ 60%</li>
                <li>REQ-NF-032: 행동 카드 오경보율 &lt; 2%</li>
              </ul>
            </li>
            <li><strong>1장 리포트 &amp; 가족 보드</strong>
              <ul>
                <li>REQ-NF-023, 034: 1장 리포트 채택률 및 생성률 측정</li>
                <li>REQ-NF-024: 의사/환자 평점 ≥ 4.2, 의사결정 시간 -20% 이상 단축</li>
                <li>REQ-NF-025: 가족 대리접근 설정률 ≥ 50%</li>
              </ul>
            </li>
          </ul>
          <p><strong>모든 KPI는 “측정·집계 요구사항”으로 SRS에 명시되고, 목표 수치는 PRD 기준 참고값</strong></p>
        </div>
      </div>
    </section>

    <!-- Slide 7: API 개요 -->
    <section class="slide" id="slide-7">
      <div class="slide-header">
        <div class="slide-index">06</div>
        <h2>API 엔드포인트 개요</h2>
      </div>
      <div class="columns">
        <div class="card">
          <div class="card-title">주요 Public API</div>
          <ul>
            <li><strong>온보딩</strong>
              <ul>
                <li><code>POST /api/v1/onboarding/start</code> (API-001)</li>
                <li><code>POST /api/v1/onboarding/complete</code> (API-002)</li>
              </ul>
            </li>
            <li><strong>헬스 데이터 &amp; 리포트</strong>
              <ul>
                <li><code>GET /api/v1/health-metrics/summary</code> (API-004)</li>
                <li><code>POST /api/v1/reports/one-page</code> (API-005)</li>
                <li><code>GET /api/v1/reports/one-page/{id}</code> (API-006)</li>
                <li><code>GET /api/v1/reports/one-page/{id}/pdf</code> (API-007)</li>
              </ul>
            </li>
            <li><strong>행동 카드</strong>
              <ul>
                <li><code>POST /api/v1/actions/daily</code> (API-008)</li>
                <li><code>PATCH /api/v1/actions/{id}</code> (API-009)</li>
              </ul>
            </li>
          </ul>
        </div>
        <div class="card">
          <div class="card-title">가족 보드·보안·내부 모니터링</div>
          <ul>
            <li><strong>가족 보드 &amp; 초대</strong>
              <ul>
                <li><code>POST /api/v1/family-board/invitations</code> (API-010)</li>
                <li><code>POST /api/v1/family-board/invitations/{token}/accept</code> (API-011)</li>
                <li><code>POST /api/v1/family-board/invitations/{token}/resend</code> (API-012)</li>
                <li><code>POST /api/v1/family-board/events</code> / <code>GET .../events</code> (API-013, 014)</li>
              </ul>
            </li>
            <li><strong>보안 &amp; 병원 포털 대체 경로</strong>
              <ul>
                <li><code>POST /api/v1/security/challenge</code> (API-015)</li>
                <li><code>POST /api/v1/hospital/upload</code> (API-016)</li>
              </ul>
            </li>
            <li><strong>내부 모니터링</strong>
              <ul>
                <li><code>GET /internal/metrics</code> (API-017)</li>
                <li><code>POST /internal/alerts/test</code> (API-018)</li>
              </ul>
            </li>
          </ul>
          <p>각 API는 <strong>REQ-FUNC / REQ-NF</strong>와 Traceability Matrix로 연결됩니다.</p>
        </div>
      </div>
    </section>

    <!-- Slide 8: 데이터 모델 개요 -->
    <section class="slide" id="slide-8">
      <div class="slide-header">
        <div class="slide-index">07</div>
        <h2>핵심 엔터티 &amp; 데이터 모델</h2>
      </div>
      <div class="columns">
        <div class="card">
          <div class="card-title">사용자 &amp; 가족 보드</div>
          <ul>
            <li><strong>User</strong>
              <ul>
                <li><code>user_id</code> (PK), <code>user_type</code> (SENIOR/CAREGIVER)</li>
                <li><code>primary_senior_id</code>: 보호자 → 연결된 시니어</li>
                <li><code>accessibility_mode</code>: 접근성 모드 여부</li>
              </ul>
            </li>
            <li><strong>FamilyBoard</strong>
              <ul>
                <li><code>board_id</code>, <code>owner_senior_id</code></li>
              </ul>
            </li>
            <li><strong>Membership</strong>
              <ul>
                <li><code>role</code>: VIEWER / EDITOR / ADMIN</li>
                <li><code>invitation_status</code>: PENDING / ACCEPTED / EXPIRED</li>
                <li><code>invitation_token</code>: 초대 링크 토큰</li>
              </ul>
            </li>
          </ul>
        </div>
        <div class="card">
          <div class="card-title">헬스 데이터 &amp; 온보딩</div>
          <ul>
            <li><strong>HealthMetric</strong>
              <ul>
                <li><code>metric_type</code>: STEPS, HR, BP_SYS, BP_DIA, WEIGHT 등</li>
                <li><code>unit</code>: 표준 단위(정규화 후)</li>
                <li><code>context_tags</code>: 기간·기기 메타·결측 여부 등 JSON</li>
              </ul>
            </li>
            <li><strong>OnePageReport</strong>
              <ul>
                <li><code>summary_payload</code>: 지표 요약 + 맥락·기기·결측 태그 포함</li>
                <li><code>pdf_url</code>: PDF 경로/URL</li>
              </ul>
            </li>
            <li><strong>ActionCard</strong>
              <ul>
                <li><code>status</code>: PENDING / ACCEPTED / COMPLETED</li>
                <li><code>completed_at</code>: D1/W1 측정에 사용</li>
              </ul>
            </li>
            <li><strong>OnboardingSession</strong>
              <ul>
                <li><code>step</code>: SIGNUP~COMPLETED 단계 Enum</li>
                <li><code>abandoned</code>: 이탈 여부</li>
              </ul>
            </li>
            <li><strong>AuditLog</strong>: 동의·위임·권한 변경·민감정보 조회 이벤트 100% 기록</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Slide 9: Mermaid - 1장 리포트 플로우 -->
    <section class="slide" id="slide-9">
      <div class="slide-header">
        <div class="slide-index">08</div>
        <h2>Mermaid 시퀀스 ① 1장 의사용 요약 리포트</h2>
      </div>
      <p>Senior가 외래 진료 전후로 6개월치 헬스 데이터를 기반으로 1장 리포트를 생성·활용하는 흐름입니다.</p>
      <div class="mermaid-container">
        <pre class="mermaid">
sequenceDiagram
    participant Senior as Senior 앱
    participant Backend as 백엔드 서비스
    participant PHR as PHR/FHIR 게이트웨이
    participant EMR as 병원 포털/EMR

    Senior-&gt;&gt;Backend: 1장 리포트 생성 요청
    Backend-&gt;&gt;PHR: 최근 6개월 헬스 데이터 조회
    PHR--&gt;&gt;Backend: 표준화된 헬스 데이터(기기·기간 정보 포함)
    Backend-&gt;&gt;Backend: 지표 집계·표준 단위 변환·결측 태깅
    Backend--&gt;&gt;Senior: 1장 리포트 뷰 전달 (맥락/기기/기간 표시)
    Senior-&gt;&gt;Backend: PDF 생성 요청
    Backend--&gt;&gt;Senior: PDF 링크/파일 반환
    Senior-&gt;&gt;EMR: PDF 첨부(포털 연동·업로드)
    EMR--&gt;&gt;Senior: 첨부 성공 응답
        </pre>
      </div>
      <ul>
        <li><strong>성공 기준</strong>: 생성 p95 ≤ 3초, 필드 완결성 ≥ 95%, 태그 누락율 &lt; 5%</li>
        <li><strong>의사 워크플로</strong>: EMR 첨부까지 3클릭 이내, 첨부 실패율 &lt; 0.5%</li>
      </ul>
    </section>

    <!-- Slide 10: Mermaid - 오늘 1~3개 행동 카드 -->
    <section class="slide" id="slide-10">
      <div class="slide-header">
        <div class="slide-index">09</div>
        <h2>Mermaid 시퀀스 ② 오늘 1~3개 행동 카드</h2>
      </div>
      <p>목표/추천 엔진이 사용자별로 하루 1~3개의 실행 가능한 행동 카드를 생성·완료까지 추적하는 흐름입니다.</p>
      <div class="mermaid-container">
        <pre class="mermaid">
sequenceDiagram
    participant Engine as 목표/추천 엔진
    participant Backend as 백엔드 서비스
    participant App as 모바일 앱

    Engine-&gt;&gt;Backend: 사용자별 일일 추천 행동 생성(1~3개)
    Backend--&gt;&gt;App: 행동 카드 목록 푸시/폴링 응답
    App--&gt;&gt;App: 야간 시간(22~07시) 필터링·침묵 적용
    App-&gt;&gt;User: 행동 카드 노출
    User-&gt;&gt;App: 수락/완료 입력
    App-&gt;&gt;Backend: 행동 상태 업데이트(수락/완료 이벤트)
    Backend--&gt;&gt;Backend: D1/W1 완료율·3일 달성률 집계
        </pre>
      </div>
      <ul>
        <li><strong>제한</strong>: 사용자당 하루 1~3개, 0개 또는 4개 이상 비율 = 0%</li>
        <li><strong>야간 침묵</strong>: 22:00~07:00 사이 소리/배너 알림 비율 0%</li>
        <li><strong>KPI</strong>: D1 행동 완료율, W1 주간 3일 이상 달성률, 오경보율 &lt; 2%</li>
      </ul>
    </section>

    <!-- Slide 11: Mermaid - 온보딩 3분 플로우 -->
    <section class="slide" id="slide-11">
      <div class="slide-header">
        <div class="slide-index">10</div>
        <h2>Mermaid 시퀀스 ③ 온보딩 3분 플로우</h2>
      </div>
      <p>신규 사용자가 설치 이후 3분 내에 가입·인증·동의·디바이스·병원 연동까지 완료하는 End-to-End 온보딩 플로우입니다.</p>
      <div class="mermaid-container">
        <pre class="mermaid">
sequenceDiagram
    participant User as 신규 사용자
    participant App as 모바일 앱
    participant Backend as 백엔드
    participant IdP as 인증 서비스
    participant PHR as PHR/FHIR 게이트웨이
    participant Hospital as 병원 포털/검진

    User-&gt;&gt;App: 앱 설치 및 실행
    App-&gt;&gt;Backend: 온보딩 세션 생성(API-001)
    Backend--&gt;&gt;App: 세션 ID 반환

    User-&gt;&gt;App: 가입 정보 입력
    App-&gt;&gt;Backend: 가입 정보 전송
    Backend--&gt;&gt;App: 계정 생성 성공

    User-&gt;&gt;App: 인증(OTP/소셜 등)
    App-&gt;&gt;IdP: 인증 요청
    IdP--&gt;&gt;App: 인증 성공 토큰

    User-&gt;&gt;App: 동의/위임·접근성 선택
    App-&gt;&gt;Backend: 동의 상태 및 설정 저장
    Backend-&gt;&gt;AuditLog: 감사로그 기록

    User-&gt;&gt;App: 디바이스 연동 선택
    App-&gt;&gt;Device: 권한 요청 및 페어링
    App-&gt;&gt;Backend: 디바이스 토큰/메타 전송(API-003)

    User-&gt;&gt;App: 병원 연동 선택
    App-&gt;&gt;Hospital: 포털 연동 또는 파일 업로드(API-016)
    Hospital--&gt;&gt;App: 연동/업로드 결과

    App-&gt;&gt;Backend: 온보딩 완료 보고(API-002)
    Backend--&gt;&gt;App: 완료 상태 및 첫 행동 카드/리포트 안내
        </pre>
      </div>
      <ul>
        <li><strong>측정 항목</strong>: p50 온보딩 완료 시간, 단계별 이탈률, 완료 성공률</li>
        <li><strong>A11y</strong>: 모든 포커스 가능한 요소 라벨 완전성, 오류 힌트 100% 노출</li>
      </ul>
    </section>

    <!-- Slide 12: Mermaid - 가족 보드 동기화 -->
    <section class="slide" id="slide-12">
      <div class="slide-header">
        <div class="slide-index">11</div>
        <h2>Mermaid 시퀀스 ④ 가족 보드 일정/복약 동기화</h2>
      </div>
      <p>가족 구성원 간 일정·복약 변경 사항을 60초 이내에 동기화하고, 감사로그를 기록하는 흐름입니다.</p>
      <div class="mermaid-container">
        <pre class="mermaid">
sequenceDiagram
    participant MemberA as 구성원 A 앱
    participant MemberB as 구성원 B 앱
    participant Backend as 백엔드
    participant Audit as 감사로그

    MemberA-&gt;&gt;Backend: 일정/복약 변경 등록(API-013)
    Backend-&gt;&gt;Audit: 변경 이벤트 기록
    Backend--&gt;&gt;MemberA: 변경 성공 응답

    Backend--&gt;&gt;MemberB: 푸시 알림(선택)
    MemberB-&gt;&gt;Backend: 가족 보드 이벤트 조회(API-014)
    Backend--&gt;&gt;MemberB: 최신 이벤트 스트림(≤60초 내 반영)
        </pre>
      </div>
      <ul>
        <li><strong>성능</strong>: 변경 전파 지연 p95 ≤ 60초</li>
        <li><strong>감사</strong>: 모든 변경 이벤트 AuditLog에 기록 (역할·위임과 연계)</li>
      </ul>
    </section>

    <!-- Slide 13: Mermaid - 행동 카드 실패·재시도 -->
    <section class="slide" id="slide-13">
      <div class="slide-header">
        <div class="slide-index">12</div>
        <h2>Mermaid 시퀀스 ⑤ 행동 카드 실패·재시도</h2>
      </div>
      <p>네트워크 장애 상황에서 행동 카드 상태 업데이트를 <strong>오프라인 큐 + 지수 백오프 재시도</strong>로 보장하는 흐름입니다.</p>
      <div class="mermaid-container">
        <pre class="mermaid">
sequenceDiagram
    participant App as 모바일 앱
    participant Backend as 백엔드
    participant Queue as 오프라인 큐

    App-&gt;&gt;Backend: 행동 카드 상태 업데이트 요청
    Backend--xApp: 네트워크 오류/타임아웃
    App-&gt;&gt;Queue: 이벤트 로컬 저장

    loop 지수 백오프
        App-&gt;&gt;Backend: 재시도 요청
        alt 성공
            Backend--&gt;&gt;App: 성공 응답
            Queue--&gt;&gt;Queue: 이벤트 삭제
        else 실패
            App--&gt;&gt;App: 다음 백오프 간격까지 대기
        end
    end
        </pre>
      </div>
      <ul>
        <li><strong>목표</strong>: 네트워크 장애에도 행동 이벤트 데이터 유실 0건</li>
        <li><strong>UX</strong>: 사용자는 일시적 실패를 크게 인지하지 않고, 자동 재시도로 복구</li>
      </ul>
    </section>

    <!-- Slide 14: Traceability & 마무리 -->
    <section class="slide" id="slide-14">
      <div class="slide-header">
        <div class="slide-index">13</div>
        <h2>Traceability &amp; 마무리</h2>
      </div>
      <div class="columns">
        <div class="card">
          <div class="card-title">Traceability Matrix 개념</div>
          <ul>
            <li><strong>축</strong>
              <ul>
                <li>Story ID (사용자 스토리)</li>
                <li>Fn (기능 묶음) &amp; REQ-FUNC / REQ-NF</li>
                <li>Test Case ID (TC-xxx)</li>
              </ul>
            </li>
            <li>각 Story는 관련 REQ-FUNC·REQ-NF와 1:N으로 연결되고, 모든 REQ는 최소 1개 이상의 테스트 케이스와 매핑됩니다.</li>
            <li>이를 통해 <strong>요구사항 누락·과잉 구현 방지</strong> 및 ISO 29148 기반 DoD(Definition of Done)를 보장합니다.</li>
          </ul>
        </div>
        <div class="card">
          <div class="card-title">Revision 1.1에서의 주요 개선점</div>
          <ul>
            <li>REQ-NF 참조 오류 수정 및 리포트 생성 성능 요구 재정렬</li>
            <li>기술 스택을 “요구사항”이 아닌 “설계 제약 + ADR 연동”으로 재구성</li>
            <li>Product KPI를 <strong>측정·집계 요구</strong>로 정의하고, 목표 수치는 PRD 참고값으로 분리</li>
            <li>RPO/RTO, 데이터 보존·지역성, A11y 표준(WCAG 2.1 AA) 명시</li>
            <li>Fn 카탈로그, 운영환경, 규제 맥락, 모니터링용 내부 API 추가</li>
          </ul>
          <p><strong>결론</strong>: 설계·구현·테스트 팀이 그대로 기준선으로 사용 가능한 수준의 SRS입니다.</p>
        </div>
      </div>
      <div class="footer">
        <span>필요 시 이 HTML을 기반으로 슬라이드 툴(PowerPoint/Keynote)로도 손쉽게 변환 가능합니다.</span>
        <span>질문/피드백에 따라 개별 슬라이드를 더 세분화하거나, Story/TC 상세를 추가할 수 있습니다.</span>
      </div>
    </section>
  </div>

  <!-- Mermaid JS (ESM) -->
  <script type="module">
    import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
    mermaid.initialize({
      startOnLoad: true,
      theme: "dark",
      securityLevel: "strict"
    });
  </script>
</body>
</html>


